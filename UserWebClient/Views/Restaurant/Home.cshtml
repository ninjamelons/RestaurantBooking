@using System.Web.Configuration
@model UserWebClient.Models.RestaurantOrderModel

@{
    ViewBag.Title = Model.Restaurant.Name;
}

<div class="jumbotron">
    <h1>@ViewBag.Title</h1>
</div>

<div class="row">
    <div class="col-md-3">
        @Html.ActionLink("Reserve Table","ReserveTable","Restaurant",Model,new {@class = "btn btn-danger"})
    </div>
    <div class="col-md-9">
        <table class="table">
            <thead>
            <th>@Html.DisplayNameFor(model => model.Restaurant.Menu.Items)</th>
            <th>@Html.DisplayNameFor(model => model.Restaurant.Menu.Items.First().Price)</th>
            <th>Add to Cart</th>
            </thead>
            <tbody>
           @foreach (var item in Model.Restaurant.Menu.Items)
            {
                <tr>
                    <td>@item.Name</td>
                    <td>@item.Price.VarPrice</td>
                    <td>
                       @if(Session["orderId"] == null)
                        {
                            <a>Reserve a table to add items</a>
                        }
                        else
                        {
                            Html.ActionLink("Add to cart", "HomeCart", "Restaurant",
                                new
                                {
                                    resId = Model.Restaurant.Id, orderId = Model.OrderId,
                                    itemId = item.Id
                                }, new {@class = "btn btn-info"});
                        }
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>

